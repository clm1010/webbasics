<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <title>DOM事件</title>
  <style type="text/css">
    #ev{
      width: 300px;
      height: 100px;
      background-color: red;
      color: #FFF;
      text-align: center;
      line-height: 100px;
    }
  </style>
</head>

<body>
  <div id="ev">
    目标元素
  </div>
  <script type="text/javascript">
    var ev = document.getElementById('ev');
    //DOM2 事件 如果是true说明是在捕获时候触发，默认false在冒泡时候触发
    // 捕获事件流程，冒泡流程把true改为false
    window.addEventListener('click',function(){
      console.log('window 捕获');
    },true)

    // document捕获
    document.addEventListener('click',function(){
      console.log('document 捕获')
    },true)

    //html捕获
    document.documentElement.addEventListener('click',function(){
      console.log('html 捕获')
    },true)

    //body捕获
    document.body.addEventListener('click',function(){
      console.log('body 捕获')
    },true)

    //目标元素捕获
    ev.addEventListener('click',function(){
      console.log('ev 目标元素捕获')
    },true)

    //自定义事件
    var eve = new Event('test');
    ev.addEventListener('test',function(){
      console.log('test dispatch');
    })

    setTimeout(function(){
      //触发事件
      ev.dispatchEvent(eve);
    },2000);

  </script>
</body>

</html>
